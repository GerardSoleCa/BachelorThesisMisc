\chapter{Conclusions}\label{C:Conclusions}
\section{Project Conclusions}\label{S:Project-Conclusions}
An implementation of Micro Framework has been done with the necessary features to make the existing software work on it (HomeSense and the RFID card reader). Although it works well the performance is not as good as the original probably because the Micro Framework runs on dedicated hardware and all the consuming operations are implemented internally on the machine so this is the reason why HomeSense works better on the Netduino than on the Raspberry Pi although the second one is much more powerful than the first one.
\\
\\
Another of the goals was create a portable implementation, IOSharp is implemented using C\# and with calls to Linux SYSFS or Kernel functions so this is way this implementation is architecture independent being capable of run either on a standard desktop or on  an ARMv6 like the Raspberry Pi. The only requirement is Linux running under the Mono interpreter.
\\
\\
In order to improve the performance of IOSharp it was translated to C++ using the AlterNative translating tool. Actually it can partially transform the original code to C++ but it still needs a lot of work on its behind because many classes are unimplemented yet. The parts that AlterNative could not translate well where fixed by hand. After all, once IOSharp is translated to C++ the performance gets increased as it is shown in the chapter \ref{C:Performance-Test}. For example in 10000 iterations of a GPIO the C\# implementation needs around 10 seconds to finish while the translated version only spends around 3 seconds, this implies a really big performance compared with the original one.
\\
\\
And finally the best of AlterNative is that the code generated is still cross platform because it uses standard C++ or libraries which are also available on different platforms, so once the source is generated it can be taken to an ARM Linux and compiled to an executable assembly.

\section{Personal Conclusions}\label{S:Personal-Conclusions}
Beyond academic achievements, all the process involving this bachelors thesis has been rewarding. This project has given me a real chance to start working with embedded virtual machines, protocols to communicate hardware modules and also it has provided an introduction to C++ development and code transformations.
\\
\\
This project has allowed me to get familiar with Micro Framework and Linux development, which represents the new paths for the embedded systems where the resource-constrained devices begin to implement Linux kernels to make easy the development of applications. Then on the AlterNative part of the project an introduction to AST pattern was done together with C++ development focused on multi-platform environments. 
\\
\\
There are many skills acquired or consolidated during this time: from the initial touchdown on Micro Framework, platform invocation services to do cross language calls, delegation patterns, guidelines for application performance, etc.
\\
\\
I also have realized that the development of a project is a quite complex task and requires hard effort and dedication, but most of all a strict control of timings in order to accomplish with the established work plan.
\\
\\
In addition, the experience working with my tutor has been very positive too, because he leave so much leeway. The direct and close communication with him, has allowed me to fulfil with the objectives and deadlines.

\section{Future Work}\label{S:Future-Work}
The results of this bachelors thesis point to several interesting directions for future work.
In case of the IOSharp implementation of Micro Framework:
\begin{itemize}
\item \textbf{Addition of new protocols:} Currently IOSharp offers the simple GPIOs, UART and SPI but there are other common protocols or interfaces that could be developed to extend the features such as the \gls{I2C} bus protocol. It will also be nice to implement the analogical ports or even \gls{PWM} control in I/O ports.

\item \textbf{Performance optimization:} The implementation in .NET is too much slow running on Mono, probably related to the use of the \gls{SYSFS}. It could be interesting to do some performance tests using the \gls{SYSFS} or the Kernel functions provided by Linux. Apart from this, the interruptions are not implemented using \gls{IRQ} so try to change from polling to \gls{IRQ} interruptions could be a good improvement on performance but one of the cons of this implementation could be the portability between boards, some distributions do not accept IRQ interruptions from the GPIOs.

\item \textbf{Extend capabilities:} It could be interesting to make IOSharp work with MAREA2 which is a Middleware for distributed embedded systems in different areas like: telecommunications, avionics, health-care, automotive, defense, etc. MAREA is a software specifically designed to fulfil Unmanned Aircraft Systems (UAS) communications and their application to the
design of complex distributed UAS avionics.

\end{itemize}

In case of the AlterNative translation tool:
\begin{itemize}
\item \textbf{Garbage Collector:} Although AlterNative have a garbage collector implemented using the Boehm GC library it does not get called periodically so programs with a big footprint in RAM can get out of memory because this is not freed until the end of the program execution.

\item \textbf{Continuous Integration:} Changes on the core or the libraries of AlterNative are very susceptible to break some implemented functionalities, this is why the regression tests where created to test if the different functionalities are working well. The problem is that this test takes a huge amount of time to finish so using continuous integration tools such as Jenkins or Hudson can provide an easy way to quickly test this changes on a server capable of detect new commits to a git repository. After executing all the test an inform can be mailed to know if all is working fine.
\end{itemize}
\section{Environmental Impact}\label{S:Environmental-Impact}
At last but not least it is necessary to talk about the environmental impact of the work
described in this document. As can be seen from the present document, this project
consists in the design and development of a software application. This has not a direct
environmental benefit, but IOSharp was an implementation on a high-level basis of .NET Micro Framework which is an operating system for embedded devices, so it makes easy to develop applications which helps control from home installations (i.e. lights, temperature or humidity) to applications capable of detect and analyze different parameters from the environment (i.e. weather stations).